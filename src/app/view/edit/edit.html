<div class="flex flex-col h-screen">
  <div class="flex-shrink-0 bg-white z-10 relative">
    <h1 class="text-3xl font-bold text-gray-900 mb-8">Manage Workouts</h1>

    <div class="card p-4 mb-4">
      <h2 class="font-semibold text-gray-900 mb-4">New Workout</h2>
      <div class="flex gap-3">
        <input
          type="text"
          placeholder="e.g. Push, Core, Cardio"
          class="w-full px-4 placeholder:text-gray-400 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 flex-1"
          [(ngModel)]="newWorkoutTitle"
          (keyup.enter)="createNewWorkout()" />
        <button
          (click)="createNewWorkout()"
          [disabled]="!newWorkoutTitle().trim()"
          class="btn btn-primary px-4">
          Add
        </button>
      </div>
    </div>
    
    <!-- Enhanced gradient overlay and shadow for smooth transition -->
    <div class="absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-b from-transparent via-white/60 to-white pointer-events-none z-20"></div>
    <div class="absolute bottom-0 left-0 right-0 h-1 shadow-lg pointer-events-none z-20"></div>
  </div>

  <div class="flex-1 overflow-y-auto -mt-8">
    <ul cdkDropList (cdkDropListDropped)="reorderWorkout($event)" class="pb-8">
      <div class="h-8"></div> <!-- Spacer for gradient overlap -->
      @for (workout of workouts(); track workout.id) {
        <li
          cdkDrag
          [cdkDragData]="workout"
          class="[&.cdk-drag-placeholder]:opacity-30"
          appWorkoutCard
          [workout]="workout"></li>
      } @empty {
        <li class="text-center my-16 text-gray-500">
          <svg-icon key="exercise" size="lg" class="text-gray-900" />
          <h3 class="text-xl font-medium text-gray-900">No workouts yet</h3>
          <p>Create your first workout to get started!</p>
        </li>
      }
    </ul>
  </div>
</div>
